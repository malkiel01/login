<body>
    <!-- SVG Icons - ×—×™×™×‘ ×œ×”×™×•×ª ×‘×ª×—×™×œ×ª ×”-body -->
    <svg style="display: none;">...</svg>

    <div class="dashboard-wrapper">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-content">
                <div class="header-right">
                    <!-- ×›×¤×ª×•×¨ ×”××‘×•×¨×’×¨ -->
                    <button class="hamburger-menu" onclick="toggleSidebar()" aria-label="×ª×¤×¨×™×˜">
                        <svg class="icon">
                            <use xlink:href="#icon-menu"></use>
                        </svg>
                    </button>

                    <!-- ×›×¤×ª×•×¨ ×—×–×¨×” ×œ×“×£ ×”×¨××©×™ - ×¨×¡×¤×•× ×¡×™×‘×™ -->
                    <a href="/dashboard/" class="btn-home-responsive" title="×—×–×¨×” ×œ×“×£ ×”×¨××©×™"
                        style="opacity: 1; transition: opacity 0.5s;">
                        <svg class="icon-home" viewBox="0 0 24 24" fill="none">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" stroke="currentColor"
                                stroke-width="2"></path>
                            <polyline points="9 22 9 12 15 12 15 22" stroke="currentColor" stroke-width="2"></polyline>
                        </svg>
                        <span class="btn-home-text">×—×–×¨×” ×œ×¨××©×™</span>
                    </a>

                    <h1 class="header-title">
                        <span class="header-icon">ğŸª¦</span>
                        × ×™×”×•×œ ×‘×ª×™ ×¢×œ××™×Ÿ
                    </h1>
                </div>

                <div class="header-left">
                    <!-- ×¡×˜×˜×™×¡×˜×™×§×•×ª ×¨××©×™×•×ª -->
                    <div class="header-stats">
                        <div class="header-stat">
                            <span class="stat-value" id="headerTotalGraves">20,577</span>
                            <span class="stat-label">×§×‘×¨×™× ×›×œ×œ×™</span>
                        </div>
                        <div class="header-stat stat-success">
                            <span class="stat-value" id="headerAvailableGraves">942</span>
                            <span class="stat-label">×¤× ×•×™×™×</span>
                        </div>
                        <div class="header-stat stat-warning">
                            <span class="stat-value" id="headerReservedGraves">3,432</span>
                            <span class="stat-label">×©××•×¨×™×</span>
                        </div>
                        <div class="header-stat stat-danger">
                            <span class="stat-value" id="headerOccupiedGraves">16,203</span>
                            <span class="stat-label">×ª×¤×•×¡×™×</span>
                        </div>
                    </div>

                    <!-- ×›×¤×ª×•×¨×™ ×¤×¢×•×œ×” ××”×™×¨×™× -->
                    <div class="header-actions">
                        <button class="btn btn-sm btn-secondary" onclick="toggleFullscreen()" aria-label="××¡×š ××œ×">
                            <svg class="icon-sm">
                                <use xlink:href="#icon-fullscreen"></use>
                            </svg>
                        </button>
                        <button class="btn btn-sm btn-secondary" onclick="refreshAllData()" aria-label="×¨×¢× ×•×Ÿ">
                            <svg class="icon-sm">
                                <use xlink:href="#icon-refresh"></use>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <style>
            /* ================================ */
            /* ×›×¤×ª×•×¨ ×—×–×¨×” ×¨×¡×¤×•× ×¡×™×‘×™            */
            /* ================================ */

            /* ×¡×’× ×•×Ÿ ×‘×¡×™×¡×™ ××©×•×ª×£ */
            .btn-home-responsive {
                display: inline-flex;
                align-items: center;
                justify-content: center;
                text-decoration: none;
                transition: all 0.3s ease;
                margin-left: 15px;
                position: relative;
            }

            .icon-home {
                width: 20px;
                height: 20px;
                transition: transform 0.3s ease;
            }

            /* ================================ */
            /* ××¡×š ×’×“×•×œ - ××•×¤×¦×™×” 3             */
            /* ×›×¤×ª×•×¨ ×¢× ×× ×™××¦×™×™×ª ××™×œ×•×™         */
            /* ================================ */
            @media (min-width: 769px) {
                .btn-home-responsive {
                    gap: 8px;
                    padding: 10px 20px;
                    background: transparent;
                    border: 2px solid rgba(255, 255, 255, 0.8);
                    border-radius: 25px;
                    color: white;
                    font-weight: 600;
                    overflow: hidden;
                }

                .btn-home-text {
                    display: inline;
                    font-size: 14px;
                    transition: color 0.3s ease;
                }

                /* ××¤×§×˜ ××™×œ×•×™ ×‘×× ×™××¦×™×” */
                .btn-home-responsive::before {
                    content: "";
                    position: absolute;
                    top: 0;
                    left: -100%;
                    width: 100%;
                    height: 100%;
                    background: linear-gradient(90deg,
                            rgba(255, 255, 255, 0.2),
                            rgba(255, 255, 255, 0.3));
                    transition: left 0.5s cubic-bezier(0.4, 0, 0.2, 1);
                    z-index: -1;
                }

                .btn-home-responsive:hover::before {
                    left: 0;
                }

                .btn-home-responsive:hover {
                    border-color: white;
                    transform: translateY(-2px);
                    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
                }

                .btn-home-responsive:hover .icon-home {
                    transform: translateX(3px);
                }

                /* ×× ×™××¦×™×™×ª ×œ×—×™×¦×” */
                .btn-home-responsive:active {
                    transform: translateY(0);
                    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
                }

                /* ××¤×§×˜ ×’×œ×™× ×‘×œ×—×™×¦×” */
                @keyframes ripple {
                    0% {
                        transform: scale(0);
                        opacity: 1;
                    }

                    100% {
                        transform: scale(4);
                        opacity: 0;
                    }
                }

                .btn-home-responsive::after {
                    content: "";
                    position: absolute;
                    border-radius: 50%;
                    background: rgba(255, 255, 255, 0.5);
                    width: 20px;
                    height: 20px;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%) scale(0);
                    opacity: 0;
                }

                .btn-home-responsive:active::after {
                    animation: ripple 0.6s ease-out;
                }
            }

            /* ================================ */
            /* ××¡×š ×§×˜×Ÿ - ××•×¤×¦×™×” 2              */
            /* ×›×¤×ª×•×¨ ×¢×’×•×œ ×¢× ×¡×™×‘×•×‘            */
            /* ================================ */
            @media (max-width: 768px) {
                .btn-home-responsive {
                    width: 40px;
                    height: 40px;
                    background: rgba(255, 255, 255, 0.95);
                    border: 2px solid #667eea;
                    border-radius: 50%;
                    color: #667eea;
                    margin-left: 10px;
                }

                /* ×”×¡×ª×¨×ª ×”×˜×§×¡×˜ ×‘××•×‘×™×™×œ */
                .btn-home-text {
                    display: none;
                }

                /* ××¤×§×˜ ×¡×™×‘×•×‘ ×‘×”×•×‘×¨/×˜××¥' */
                .btn-home-responsive:hover,
                .btn-home-responsive:active {
                    background: linear-gradient(135deg, #667eea, #764ba2);
                    border-color: transparent;
                    color: white;
                    transform: rotate(360deg) scale(1.1);
                    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
                }

                .btn-home-responsive:hover .icon-home,
                .btn-home-responsive:active .icon-home {
                    transform: scale(1.2);
                }

                /* ×× ×™××¦×™×™×ª ×¤×¢×™××” ×‘××•×‘×™×™×œ */
                @keyframes mobilePulse {
                    0% {
                        box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.7);
                    }

                    70% {
                        box-shadow: 0 0 0 10px rgba(102, 126, 234, 0);
                    }

                    100% {
                        box-shadow: 0 0 0 0 rgba(102, 126, 234, 0);
                    }
                }

                .btn-home-responsive:focus {
                    animation: mobilePulse 1.5s;
                    outline: none;
                }
            }

            /* ================================ */
            /* ×× ×™××¦×™×•×ª ×›× ×™×¡×”                  */
            /* ================================ */
            @keyframes slideInFromLeft {
                from {
                    opacity: 0;
                    transform: translateX(-20px);
                }

                to {
                    opacity: 1;
                    transform: translateX(0);
                }
            }

            .btn-home-responsive {
                animation: slideInFromLeft 0.5s ease-out;
            }

            /* ================================ */
            /* ×ª××™×›×” ×‘×“×¤×“×¤× ×™× ×©×•× ×™×           */
            /* ================================ */
            .btn-home-responsive {
                -webkit-tap-highlight-color: transparent;
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
            }

            /* ================================ */
            /* Dark mode support (××•×¤×¦×™×•× ×œ×™)    */
            /* ================================ */
            @media (prefers-color-scheme: dark) {
                .btn-home-responsive {
                    /* ×”×ª×××•×ª ×œ×“××¨×§ ××•×“ ×× ×¦×¨×™×š */
                }
            }

            /* ================================ */
            /* ××¡×š ×§×˜×Ÿ ×××•×“ ×•×˜××‘×œ×˜ - ×”×¡×ª×¨×”     */
            /* ================================ */
            @media (max-width: 380px) {
                .btn-home-responsive {
                    display: none !important;
                }
            }

            @media (min-width: 481px) and (max-width: 768px) {
                .btn-home-responsive {
                    display: none !important;
                }
            }

            /* ================================ */
            /* ×”×“×¤×¡×” - ×”×¡×ª×¨×ª ×”×›×¤×ª×•×¨           */
            /* ================================ */
            @media print {
                .btn-home-responsive {
                    display: none;
                }
            }
        </style>

        <script>
            // JavaScript ×œ×ª××™×›×” × ×•×¡×¤×ª ×‘×× ×™××¦×™×•×ª
            document.addEventListener('DOMContentLoaded', function () {
                const homeBtn = document.querySelector('.btn-home-responsive');

                if (homeBtn) {
                    // ×× ×™××¦×™×” ×‘×˜×¢×™× ×ª ×”×“×£ ×‘×œ×‘×“
                    homeBtn.style.opacity = '0';
                    setTimeout(() => {
                        homeBtn.style.transition = 'opacity 0.5s ease';
                        homeBtn.style.opacity = '1';
                    }, 100);
                }
            });
        </script>
        <div class="dashboard-container">
            <!-- Sidebar -->

            <aside class="dashboard-sidebar" id="dashboardSidebar">
                <div class="sidebar-header">
                    <h3 class="sidebar-title">× ×™×•×•×˜</h3>
                    <button class="btn-toggle-sidebar" onclick="toggleSidebar()">
                        <svg class="icon-sm">
                            <use xlink:href="#icon-menu"></use>
                        </svg>
                    </button>
                </div>

                <!-- ×—×™×¤×•×© ××”×™×¨ -->
                <div class="sidebar-search">
                    <input type="text" class="form-control" id="sidebarSearch" placeholder="×—×™×¤×•×© ××”×™×¨..."
                        onkeyup="performQuickSearch(this.value)">
                </div>

                <!-- ×¨××•×ª ×”×”×™×¨××¨×›×™×” -->
                <div class="hierarchy-levels">
                    <!-- ×‘×ª×™ ×¢×œ××™×Ÿ -->
                    <div class="hierarchy-level">
                        <div class="hierarchy-header" id="cemeteriesItem"
                            onclick="handleSidebarClick('cemeteriesItem', loadCemeteries)">
                            <span class="hierarchy-icon">ğŸ›ï¸</span>
                            <span class="hierarchy-title">×‘×ª×™ ×¢×œ××™×Ÿ</span>
                            <span class="hierarchy-count" id="cemeteriesCount">8</span>
                        </div>
                        <div id="cemeterySelectedItem" class="selected-item-container" style="display: none;"></div>
                    </div>

                    <!-- ×’×•×©×™× -->
                    <div class="hierarchy-level">
                        <div class="hierarchy-header" id="blocksItem"
                            onclick="handleSidebarClick('blocksItem', loadBlocks)">
                            <span class="hierarchy-icon">ğŸ“¦</span>
                            <span class="hierarchy-title">×’×•×©×™×</span>
                            <span class="hierarchy-count" id="blocksCount">124</span>
                        </div>
                        <div id="blockSelectedItem" class="selected-item-container" style="display: none;"></div>
                    </div>

                    <!-- ×—×œ×§×•×ª -->
                    <div class="hierarchy-level">
                        <div class="hierarchy-header" id="plotsItem"
                            onclick="handleSidebarClick('plotsItem', loadPlots)">
                            <span class="hierarchy-icon">ğŸ“‹</span>
                            <span class="hierarchy-title">×—×œ×§×•×ª</span>
                            <span class="hierarchy-count" id="plotsCount">138</span>
                        </div>
                        <div id="plotSelectedItem" class="selected-item-container" style="display: none;"></div>
                    </div>

                    <!-- ××—×•×–×•×ª ×§×‘×¨ -->
                    <div class="hierarchy-level">
                        <div class="hierarchy-header active" id="areaGravesItem"
                            onclick="handleSidebarClick('areaGravesItem', loadAreaGraves)">
                            <span class="hierarchy-icon">ğŸ˜ï¸</span>
                            <span class="hierarchy-title">××—×•×–×•×ª ×§×‘×¨</span>
                            <span class="hierarchy-count" id="areaGravesCount">20483</span>
                        </div>
                        <div id="areaGraveSelectedItem" class="selected-item-container" style="display: none;"></div>
                    </div>

                    <!-- ×§×‘×¨×™× -->
                    <div class="hierarchy-level">
                        <div class="hierarchy-header" id="gravesItem"
                            onclick="handleSidebarClick('gravesItem', loadGraves)">
                            <span class="hierarchy-icon">ğŸª¦</span>
                            <span class="hierarchy-title">×§×‘×¨×™×</span>
                            <span class="hierarchy-count" id="gravesCount">20577</span>
                        </div>
                        <div id="graveSelectedItem" class="selected-item-container" style="display: none;"></div>
                    </div>
                </div>

                <!-- ×§×• ××¤×¨×™×“ -->
                <div style="margin: 20px 15px; border-top: 2px solid #e5e7eb;"></div>

                <!-- × ×™×”×•×œ × ×•×¡×£ -->
                <div class="management-section" style="padding: 0 15px;">
                    <h4 style="font-size: 14px; color: #718096; margin-bottom: 10px; font-weight: 600;">× ×™×”×•×œ</h4>

                    <!-- ×œ×§×•×—×•×ª -->
                    <div class="management-item" style="margin-bottom: 10px;">
                        <div class="hierarchy-header" id="customersItem"
                            onclick="handleSidebarClick('customersItem', loadCustomers)">
                            <span class="hierarchy-icon">ğŸ‘¥</span>
                            <span class="hierarchy-title">×œ×§×•×—×•×ª</span>
                            <span class="hierarchy-count" id="customersCount">19668</span>
                        </div>
                    </div>

                    <!-- ×¨×›×™×©×•×ª -->
                    <div class="management-item" style="margin-bottom: 10px;">
                        <div class="hierarchy-header" id="purchasesItem"
                            onclick="handleSidebarClick('purchasesItem', loadPurchases)">
                            <span class="hierarchy-icon">ğŸ’°</span>
                            <span class="hierarchy-title">×¨×›×™×©×•×ª</span>
                            <span class="hierarchy-count" id="purchasesCount">9288</span>
                        </div>
                    </div>

                    <!-- ×§×‘×•×¨×•×ª -->
                    <div class="management-item" style="margin-bottom: 10px;">
                        <div class="hierarchy-header" id="burialsItem"
                            onclick="handleSidebarClick('burialsItem', loadBurials)">
                            <span class="hierarchy-icon">âš±ï¸</span>
                            <span class="hierarchy-title">×§×‘×•×¨×•×ª</span>
                            <span class="hierarchy-count" id="burialsCount">16205</span>
                        </div>
                    </div>
                </div>

                <!-- ×§×• ××¤×¨×™×“ -->
                <div style="margin: 20px 15px; border-top: 2px solid #e5e7eb;"></div>

                <!-- × ×™×”×•×œ ××¢×¨×›×ª -->
                <div class="system-management-section" style="padding: 0 15px;">
                    <h4 style="font-size: 14px; color: #718096; margin-bottom: 10px; font-weight: 600;">
                        <span style="margin-left: 5px;">âš™ï¸</span>
                        × ×™×”×•×œ ××¢×¨×›×ª
                    </h4>

                    <!-- ×ª×©×œ×•××™× -->
                    <div class="management-item" style="margin-bottom: 10px;">
                        <div class="hierarchy-header" id="paymentsItem"
                            onclick="handleSidebarClick('paymentsItem', loadPayments)">
                            <span class="hierarchy-icon">ğŸ’³</span>
                            <span class="hierarchy-title">× ×™×”×•×œ ×ª×©×œ×•××™×</span>
                            <span class="hierarchy-count" id="paymentsCount">7</span>
                        </div>
                    </div>

                    <!-- ×ª×•×©×‘×•×™×•×ª -->
                    <div class="management-item" style="margin-bottom: 10px;">
                        <div class="hierarchy-header" id="residencyItem"
                            onclick="handleSidebarClick('residencyItem', loadResidencies)">
                            <span class="hierarchy-icon">ğŸ </span>
                            <span class="hierarchy-title">×”×’×“×¨×•×ª ×ª×•×©×‘×•×ª</span>
                            <span class="hierarchy-count loading" id="residencyCount">0</span>
                        </div>
                    </div>

                    <!-- ××“×™× ×•×ª -->
                    <div class="management-item" style="margin-bottom: 10px;">
                        <div class="hierarchy-header" id="countriesItem"
                            onclick="handleSidebarClick('countriesItem', loadCountries)">
                            <span class="hierarchy-icon">ğŸŒ</span>
                            <span class="hierarchy-title">× ×™×”×•×œ ××“×™× ×•×ª</span>
                            <span class="hierarchy-count" id="countryCount">208</span>
                        </div>
                    </div>

                    <!-- ×¢×¨×™× -->
                    <div class="management-item" style="margin-bottom: 10px;">
                        <div class="hierarchy-header" id="citiesItem"
                            onclick="handleSidebarClick('citiesItem', loadCities)">
                            <span class="hierarchy-icon">ğŸ™ï¸</span>
                            <span class="hierarchy-title">× ×™×”×•×œ ×¢×¨×™×</span>
                            <span class="hierarchy-count" id="cityCount">707</span>
                        </div>
                    </div>

                    <!-- ××•×¤×¦×™×•×ª ×¢×ª×™×“×™×•×ª -->
                    <div class="management-item" style="margin-bottom: 10px; opacity: 0.5;">
                        <div class="hierarchy-header disabled">
                            <span class="hierarchy-icon">ğŸ—ºï¸</span>
                            <span class="hierarchy-title">×˜×¨×™×˜×•×¨×™×™×ª ×‘×™×ª ×¢×œ××™×Ÿ</span>
                            <span class="badge"
                                style="background: #fbbf24; color: #78350f; font-size: 10px; padding: 2px 6px; border-radius: 4px;">×‘×§×¨×•×‘</span>
                        </div>
                    </div>

                    <div class="management-item" style="margin-bottom: 10px; opacity: 0.5;">
                        <div class="hierarchy-header disabled">
                            <span class="hierarchy-icon">ğŸ—ºï¸</span>
                            <span class="hierarchy-title">× ×™×”×•×œ ××¤×•×ª</span>
                            <span class="badge"
                                style="background: #fbbf24; color: #78350f; font-size: 10px; padding: 2px 6px; border-radius: 4px;">×‘×§×¨×•×‘</span>
                        </div>
                    </div>

                    <div class="management-item" style="margin-bottom: 10px; opacity: 0.5;">
                        <div class="hierarchy-header disabled">
                            <span class="hierarchy-icon">ğŸ”</span>
                            <span class="hierarchy-title">× ×™×”×•×œ ×”×¨×©××•×ª</span>
                            <span class="badge"
                                style="background: #fbbf24; color: #78350f; font-size: 10px; padding: 2px 6px; border-radius: 4px;">×‘×§×¨×•×‘</span>
                        </div>
                    </div>

                    <div class="management-item" style="margin-bottom: 10px; opacity: 0.5;">
                        <div class="hierarchy-header disabled">
                            <span class="hierarchy-icon">ğŸ“Š</span>
                            <span class="hierarchy-title">× ×™×”×•×œ ×“×•×—×•×ª</span>
                            <span class="badge"
                                style="background: #fbbf24; color: #78350f; font-size: 10px; padding: 2px 6px; border-radius: 4px;">×‘×§×¨×•×‘</span>
                        </div>
                    </div>
                </div>

                <!-- ×¤×¢×•×œ×•×ª ××”×™×¨×•×ª -->
                <div class="sidebar-footer">
                    <button class="btn btn-primary btn-block" onclick="tableRenderer.openAddModal()"
                        style="opacity: 1; cursor: pointer; display: none;"><svg class="icon">
                            <use xlink:href="#icon-plus"></use>
                        </svg> ×”×•×¡×¤×ª ×‘×™×ª ×¢×œ××™×Ÿ</button>
                    <button class="btn btn-secondary btn-block mt-2" onclick="exportData()">
                        <svg class="icon-sm">
                            <use xlink:href="#icon-download"></use>
                        </svg>
                        ×™×™×™×¦×•× × ×ª×•× ×™×
                    </button>
                </div>
            </aside>

            <!-- SVG Icons -->
            <svg style="display: none;">
                <symbol id="icon-menu" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-width="2" stroke-linecap="round" d="M4 7h16M4 12h16M4 17h16">
                    </path>
                </symbol>
                <symbol id="icon-plus" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-width="2" stroke-linecap="round" d="M12 5v14m-7-7h14"></path>
                </symbol>
                <symbol id="icon-download" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4m4-5l5 5l5-5m-5 5V3"></path>
                </symbol>
                <symbol id="icon-fullscreen" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3">
                    </path>
                </symbol>
                <symbol id="icon-enter" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        d="M9 10l5-5m0 0h-4m4 0v4m1 7H7a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h5"></path>
                </symbol>
            </svg>

            <style>
                /* ============================================
           SIDEBAR UNIFIED DESIGN - ×¢×™×¦×•×‘ ××—×™×“ ××œ×
           Version: 2.0.0
           ============================================ */

                /* Base State - ××¦×‘ ×¨×’×™×œ */
                .hierarchy-header {
                    display: flex;
                    align-items: center;
                    gap: 0.75rem;
                    padding: 0.875rem 1rem;
                    background: #f8fafc;
                    border: 1px solid #e2e8f0;
                    border-radius: 0.5rem;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    color: #475569;
                    font-weight: 500;
                    position: relative;
                }

                /* Hover State - ×¨×™×—×•×£ */
                .hierarchy-header:hover:not(.disabled) {
                    background: #f1f5f9;
                    border-color: #cbd5e1;
                    transform: translateX(-2px);
                }

                /* Active State - ××¦×‘ ×¤×¢×™×œ (×›××• ×”×ª×©×œ×•××™×!) */
                .hierarchy-header.active {
                    background: #f0f9ff;
                    border: 1px solid #3b82f6;
                    color: #1e40af;
                    font-weight: 600;
                    transform: translateX(-3px);
                    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.15);
                }

                /* Active State - Count Badge ×‘×¢×™×¦×•×‘ ×›×—×•×œ */
                .hierarchy-header.active .hierarchy-count {
                    background: #3b82f6;
                    color: white;
                }

                /* Disabled State */
                .hierarchy-header.disabled {
                    cursor: not-allowed;
                    opacity: 0.6;
                }

                .hierarchy-header.disabled:hover {
                    transform: none;
                }

                /* Icon Styling */
                .hierarchy-icon {
                    font-size: 1.5rem;
                    transition: transform 0.3s ease;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    width: 32px;
                    height: 32px;
                }

                .hierarchy-header:hover:not(.disabled) .hierarchy-icon {
                    transform: scale(1.05);
                }

                .hierarchy-header.active .hierarchy-icon {
                    transform: scale(1.1);
                }

                /* Title Styling */
                .hierarchy-title {
                    flex: 1;
                    font-size: 0.9375rem;
                    line-height: 1.4;
                }

                /* Count Badge - ×¢×™×¦×•×‘ ××—×™×“ */
                .hierarchy-count {
                    background: #e2e8f0;
                    color: #475569;
                    padding: 0.25rem 0.75rem;
                    border-radius: 999px;
                    font-size: 0.8125rem;
                    font-weight: 600;
                    min-width: 28px;
                    text-align: center;
                    transition: all 0.3s ease;
                }

                .hierarchy-header:hover:not(.disabled) .hierarchy-count {
                    background: #cbd5e1;
                    transform: scale(1.05);
                }

                /* Loading State for Count */
                .hierarchy-count.loading {
                    background: #f1f5f9;
                    color: transparent;
                    position: relative;
                    overflow: hidden;
                }

                .hierarchy-count.loading::after {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: -100%;
                    width: 100%;
                    height: 100%;
                    background: linear-gradient(90deg,
                            transparent,
                            rgba(255, 255, 255, 0.6),
                            transparent);
                    animation: shimmer 1.5s infinite;
                }

                @keyframes shimmer {
                    to {
                        left: 100%;
                    }
                }

                /* Responsive Design */
                @media (max-width: 768px) {
                    .hierarchy-header {
                        padding: 0.75rem 0.875rem;
                    }

                    .hierarchy-icon {
                        font-size: 1.25rem;
                        width: 28px;
                        height: 28px;
                    }

                    .hierarchy-title {
                        font-size: 0.875rem;
                    }

                    .hierarchy-count {
                        font-size: 0.75rem;
                        padding: 0.2rem 0.6rem;
                    }
                }

                /* Selected Item Container */
                .selected-item-container {
                    margin-top: 0.5rem;
                    padding: 0.5rem;
                    background: #f8fafc;
                    border-radius: 0.375rem;
                    display: none;
                }

                .selected-item-container.active {
                    display: block;
                }
            </style>

            <script>
                /*
                 * ============================================
                 * SIDEBAR ACTIVE STATE MANAGER
                 * Version: 2.0.0
                 * Updated: 2025-11-04
                 * Author: Malkiel
                 * Description: ×× ×’× ×•×Ÿ ××—×™×“ ×œ× ×™×”×•×œ ××¦×‘ ××§×˜×™×‘×™ ×‘×¡×™×™×“×‘×¨
                 * ============================================
                 */

                /**
                 * ×¤×•× ×§×¦×™×” ××¨×›×–×™×ª ×œ×˜×™×¤×•×œ ×‘×œ×—×™×¦×” ×¢×œ ×¤×¨×™×˜ ×‘×¡×™×™×“×‘×¨
                 * @param {string} itemId - ××–×”×” ×”×¤×¨×™×˜ ×©× ×œ×—×¥ (×œ××©×œ: 'customersItem')
                 * @param {Function} callbackFunction - ×”×¤×•× ×§×¦×™×” ×”××§×•×¨×™×ª ×©×˜×•×¢× ×ª ××ª ×”×ª×•×›×Ÿ
                 */
                function handleSidebarClick(itemId, callbackFunction) {
                    // ×§×¨×™××” ×œ×¤×•× ×§×¦×™×” ×©××¢×“×›× ×ª ××ª ×”××¦×‘ ×”×•×™×–×•××œ×™
                    setActiveSidebarItem(itemId);

                    // ×§×¨×™××” ×œ×¤×•× ×§×¦×™×” ×”××§×•×¨×™×ª
                    if (typeof callbackFunction === 'function') {
                        callbackFunction();
                    }
                }

                /**
                 * ××¢×“×›×Ÿ ××ª ××¦×‘ ×”-active ×©×œ ×¤×¨×™×˜ ×‘×¡×™×™×“×‘×¨
                 * @param {string} itemId - ×”-ID ×©×œ ×”×¤×¨×™×˜ ×©× ×‘×—×¨
                 */
                function setActiveSidebarItem(itemId) {
                    try {
                        // ×”×¡×¨×ª active ××›×œ ×”×¤×¨×™×˜×™×
                        const allHeaders = document.querySelectorAll('.hierarchy-header');
                        allHeaders.forEach(header => {
                            header.classList.remove('active');
                        });

                        // ×”×•×¡×¤×ª active ×œ×¤×¨×™×˜ ×”× ×•×›×—×™
                        const selectedItem = document.getElementById(itemId);
                        if (selectedItem && !selectedItem.classList.contains('disabled')) {
                            selectedItem.classList.add('active');

                            // ×©××™×¨×” ×‘-localStorage
                            localStorage.setItem('activeSidebarItem', itemId);

                            // ×œ×•×’ ×œ×¦×•×¨×›×™ ×“×™×‘×•×’
                            console.log('âœ… ×¤×¨×™×˜ ××§×˜×™×‘×™ ×¢×•×“×›×Ÿ:', itemId);
                        }
                    } catch (error) {
                        console.error('âŒ ×©×’×™××” ×‘×¢×“×›×•×Ÿ ××¦×‘ ××§×˜×™×‘×™:', error);
                    }
                }

                /**
                 * ××©×—×–×¨ ××ª ××¦×‘ ×”-active ×‘×¢×ª ×˜×¢×™× ×ª ×”×“×£
                 */
                function restoreActiveSidebarItem() {
                    try {
                        const savedItem = localStorage.getItem('activeSidebarItem');
                        if (savedItem) {
                            const element = document.getElementById(savedItem);
                            if (element && !element.classList.contains('disabled')) {
                                element.classList.add('active');
                                console.log('ğŸ”„ ×©×•×—×–×¨ ×¤×¨×™×˜ ××§×˜×™×‘×™:', savedItem);
                            }
                        }
                    } catch (error) {
                        console.error('âŒ ×©×’×™××” ×‘×©×—×–×•×¨ ××¦×‘ ××§×˜×™×‘×™:', error);
                    }
                }

                /**
                 * × ×™×§×•×™ ××¦×‘ ××§×˜×™×‘×™ (×©×™××•×©×™ ×œ×¨×™×¡×˜ ××• logout)
                 */
                function clearActiveSidebarItem() {
                    try {
                        localStorage.removeItem('activeSidebarItem');
                        const allHeaders = document.querySelectorAll('.hierarchy-header');
                        allHeaders.forEach(header => {
                            header.classList.remove('active');
                        });
                        console.log('ğŸ§¹ ××¦×‘ ××§×˜×™×‘×™ × ×•×§×”');
                    } catch (error) {
                        console.error('âŒ ×©×’×™××” ×‘× ×™×§×•×™ ××¦×‘ ××§×˜×™×‘×™:', error);
                    }
                }

                // ====================================
                // ××ª×—×•×œ ××•×˜×•××˜×™ ×‘×˜×¢×™× ×ª ×”×“×£
                // ====================================
                if (document.readyState === 'loading') {
                    document.addEventListener('DOMContentLoaded', restoreActiveSidebarItem);
                } else {
                    // ×× ×”××¡××š ×›×‘×¨ × ×˜×¢×Ÿ
                    restoreActiveSidebarItem();
                }

                // ====================================
                // Compatibility Layer - ×ª××™××•×ª ×œ××—×•×¨
                // ====================================
                // ×× ×§×™×™××•×ª ×¤×•× ×§×¦×™×•×ª ×™×©× ×•×ª ×©×œ× ×¢×•×“×›× ×•, × ×•×¡×™×£ ×œ×”×Ÿ ××ª ×”×× ×’× ×•×Ÿ ××•×˜×•××˜×™×ª

                /**
                 * ×¢×•×˜×£ ×¤×•× ×§×¦×™×” ×§×™×™××ª ×¢× ×× ×’× ×•×Ÿ ×”-active state
                 * @param {Function} originalFunc - ×”×¤×•× ×§×¦×™×” ×”××§×•×¨×™×ª
                 * @param {string} itemId - ××–×”×” ×”×¤×¨×™×˜
                 * @returns {Function} ×”×¤×•× ×§×¦×™×” ×”×¢×˜×•×¤×”
                 */
                function wrapWithActiveState(originalFunc, itemId) {
                    return function () {
                        setActiveSidebarItem(itemId);
                        return originalFunc.apply(this, arguments);
                    };
                }

                // ×“×•×’××” ×œ×©×™××•×© (×× ×¦×¨×™×š):
                // window.loadCustomers = wrapWithActiveState(window.loadCustomers, 'customersItem');

                console.log('âœ¨ ×× ×’× ×•×Ÿ Sidebar Active State ××•×ª×—×œ ×‘×”×¦×œ×—×” - ×’×¨×¡×” 2.0.0');
            </script>
            <!-- Overlay for mobile sidebar -->
            <div id="sidebarOverlay" class="sidebar-overlay"></div>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Action Bar -->
                <div class="action-bar">
                    <div class="breadcrumb" id="breadcrumb">
                        <a href="#" class="breadcrumb-item breadcrumb-clickable" data-type="level"
                            data-level-type="areaGrave" data-id="" data-index="0">
                            <span class="breadcrumb-icon">ğŸ˜ï¸</span>
                            <span class="breadcrumb-text">××—×•×–×•×ª ×§×‘×¨</span>
                        </a>
                        <span class="breadcrumb-separator">â€º</span>
                        <span class="breadcrumb-item breadcrumb-current">
                            <span class="breadcrumb-icon">ğŸ˜ï¸</span>
                            <span class="breadcrumb-text">××—×•×–×•×ª ×§×‘×¨</span>
                        </span>
                    </div>
                    <div class="action-buttons">
                        <button class="btn btn-secondary" onclick="refreshData()">
                            <svg class="icon">
                                <use xlink:href="#icon-refresh"></use>
                            </svg>
                            ×¨×¢× ×•×Ÿ
                        </button>
                        <button class="btn btn-primary" onclick="tableRenderer.openAddModal()"
                            style="opacity: 1; cursor: pointer; display: none;"><svg class="icon">
                                <use xlink:href="#icon-plus"></use>
                            </svg> ×”×•×¡×¤×ª ×‘×™×ª ×¢×œ××™×Ÿ</button>
                    </div>
                </div>
                <div class="main-container">


                    <div id="areaGraveSearchSection" class="search-section universal-search-container">
                        <div class="us-search-wrapper horizontal">
                            <!-- ×©×“×” ×—×™×¤×•×© ×¨××©×™ -->
                            <div class="us-main-search">
                                <div class="us-search-input-wrapper">
                                    <input type="text" class="us-search-input" placeholder="×—×™×¤×•×© area-grave..."
                                        autocomplete="off">
                                    <svg class="us-search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"
                                        stroke="currentColor">
                                        <circle cx="11" cy="11" r="8"></circle>
                                        <path d="m21 21-4.35-4.35"></path>
                                    </svg>
                                    <button class="us-clear-btn" style="display: none;">âœ•</button>
                                </div>


                                <button class="us-advanced-toggle">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <line x1="4" y1="6" x2="20" y2="6"></line>
                                        <line x1="4" y1="12" x2="20" y2="12"></line>
                                        <line x1="4" y1="18" x2="20" y2="18"></line>
                                    </svg>
                                    ×¤×™×œ×˜×¨×™× ××ª×§×“××™×
                                </button>

                            </div>

                            <!-- ×¤×™×œ×˜×¨×™× ××ª×§×“××™× -->

                            <div class="us-advanced-panel" style="display: none;">
                                <div class="us-filters-container">

                                    <div class="us-filter-group">
                                        <label class="us-filter-label">×©× ××—×•×–×ª ×§×‘×¨</label>
                                        <div class="us-filter-controls">

                                        </div>
                                    </div>

                                    <div class="us-filter-group">
                                        <label class="us-filter-label">×§×•××•×¨×“×™× ×˜×•×ª</label>
                                        <div class="us-filter-controls">

                                        </div>
                                    </div>

                                    <div class="us-filter-group">
                                        <label class="us-filter-label">×¡×•×’ ×§×‘×¨</label>
                                        <div class="us-filter-controls">

                                        </div>
                                    </div>

                                </div>
                                <div class="us-actions">
                                    <button class="us-btn us-btn-primary us-apply-filters">×”×—×œ ×¤×™×œ×˜×¨×™×</button>
                                    <button class="us-btn us-btn-secondary us-reset-filters">× ×§×” ×”×›×œ</button>
                                </div>
                            </div>


                            <!-- ××•× ×” ×ª×•×¦××•×ª -->

                            <div class="us-results-counter" style="display: block;">
                                <span class="us-counter-text">× ××¦××• 200 ×ª×•×¦××•×ª</span>
                            </div>

                        </div>
                    </div>

                    <div class="table-container"
                        style="width: 100% !important; padding: 16px !important; margin: 0 !important; overflow: visible !important; max-height: none !important; height: auto !important; box-sizing: border-box !important; border: 1px solid #ddd !important; background: #f5f5f5 !important;">
                        <div class="table-wrapper" data-table-manager="v2.0.0"
                            style="display: flex !important; flex-direction: column !important; width: 100% !important; height: calc(100vh - 250px) !important; min-height: 500px !important; border: 1px solid #e5e7eb !important; border-radius: 8px !important; overflow: hidden !important; background: white !important; position: relative !important; box-sizing: border-box !important;">
                            <div class="table-header-container"
                                style="flex-shrink: 0 !important; overflow: auto hidden !important; background: white !important; border-bottom: 2px solid rgb(229, 231, 235) !important; position: relative !important; z-index: 100 !important;">
                                <table class="tm-table tm-header-table" id="headerTable"
                                    style="width: max-content !important; min-width: 100% !important; border-collapse: separate !important; border-spacing: 0px !important; background: white !important; table-layout: fixed !important;">
                                    <thead>
                                        <tr class="tm-header-row">
                                            <th class="tm-header-cell" data-column-index="0"
                                                style="width: 200px; min-width: 200px;">
                                                <div class="tm-header-wrapper"><span class="tm-header-label">×©× ××—×•×–×ª
                                                        ×§×‘×¨</span><span class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="0"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="1"
                                                style="width: 100px; min-width: 100px;">
                                                <div class="tm-header-wrapper"><span
                                                        class="tm-header-label">×§×•×“</span><span
                                                        class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="1"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="2"
                                                style="width: 120px; min-width: 120px;">
                                                <div class="tm-header-wrapper"><span
                                                        class="tm-header-label">×©×•×¨×”</span><span
                                                        class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="2"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="3"
                                                style="width: 120px; min-width: 120px;">
                                                <div class="tm-header-wrapper"><span
                                                        class="tm-header-label">×—×œ×§×”</span><span
                                                        class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="3"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="4"
                                                style="width: 120px; min-width: 120px;">
                                                <div class="tm-header-wrapper"><span
                                                        class="tm-header-label">×’×•×©</span><span
                                                        class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="4"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="5"
                                                style="width: 150px; min-width: 150px;">
                                                <div class="tm-header-wrapper"><span class="tm-header-label">×‘×™×ª
                                                        ×¢×œ××™×Ÿ</span><span class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="5"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="6"
                                                style="width: 150px; min-width: 150px;">
                                                <div class="tm-header-wrapper"><span
                                                        class="tm-header-label">×—×œ×§×”</span><span
                                                        class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="6"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="7"
                                                style="width: 150px; min-width: 150px;">
                                                <div class="tm-header-wrapper"><span
                                                        class="tm-header-label">×§×•××•×¨×“×™× ×˜×•×ª</span><span
                                                        class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="7"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="8"
                                                style="width: 120px; min-width: 120px;">
                                                <div class="tm-header-wrapper"><span class="tm-header-label">×¡×•×’
                                                        ×§×‘×¨</span><span class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="8"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="9"
                                                style="width: 150px; min-width: 150px;">
                                                <div class="tm-header-wrapper"><span
                                                        class="tm-header-label">×©×•×¨×”</span><span
                                                        class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="9"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="10"
                                                style="width: 80px; min-width: 80px;">
                                                <div class="tm-header-wrapper"><span
                                                        class="tm-header-label">×§×‘×¨×™×</span><span
                                                        class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="10"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="11"
                                                style="width: 120px; min-width: 120px;">
                                                <div class="tm-header-wrapper"><span
                                                        class="tm-header-label">×ª××¨×™×š</span><span
                                                        class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="11"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="12"
                                                style="width: 120px; min-width: 120px;">
                                                <div class="tm-header-wrapper"><span
                                                        class="tm-header-label">×¤×¢×•×œ×•×ª</span></div>
                                                <div class="tm-resize-handle" data-column-index="12"></div>
                                            </th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                            <div class="table-body-container"
                                style="flex: 1 1 0% !important; overflow: auto !important; position: relative !important; height: 100% !important;">
                                <table class="tm-table tm-body-table" id="bodyTable"
                                    style="width: max-content !important; min-width: 100% !important; border-collapse: separate !important; border-spacing: 0px !important; background: white !important; table-layout: fixed !important;">
                                    <colgroup>
                                        <col style="width: 200px; min-width: 200px;">
                                        <col style="width: 100px; min-width: 100px;">
                                        <col style="width: 120px; min-width: 120px;">
                                        <col style="width: 120px; min-width: 120px;">
                                        <col style="width: 120px; min-width: 120px;">
                                        <col style="width: 150px; min-width: 150px;">
                                        <col style="width: 150px; min-width: 150px;">
                                        <col style="width: 150px; min-width: 150px;">
                                        <col style="width: 120px; min-width: 120px;">
                                        <col style="width: 150px; min-width: 150px;">
                                        <col style="width: 80px; min-width: 80px;">
                                        <col style="width: 120px; min-width: 120px;">
                                        <col style="width: 120px; min-width: 120px;">
                                    </colgroup>
                                    <tbody>
                                        <tr class="tm-row">
                                            <td class="tm-cell"><a href="#"
                                                    onclick="handleAreaGraveDoubleClick('areaGrave_690b73458bc742.96929965', '4'); return false;"
                                                    style="color: #2563eb; text-decoration: none; font-weight: 500;">
                                                    4
                                                </a></td>
                                            <td class="tm-cell">-</td>
                                            <td class="tm-cell">×©×•×¨×” 2</td>
                                            <td class="tm-cell">×—×œ×§×” 6</td>
                                            <td class="tm-cell">× ×¡×™×•×Ÿ ×’×•×© 6</td>
                                            <td class="tm-cell">× ×¡×™×•×Ÿ ×‘×™×ª ×¢×œ××™×Ÿ 5</td>
                                            <td class="tm-cell">×—×œ×§×” 6</td>
                                            <td class="tm-cell"><span
                                                    style="font-family: monospace; font-size: 12px;">-</span></td>
                                            <td class="tm-cell"><span
                                                    style="background: #e0e7ff; color: #4338ca; padding: 3px 10px; border-radius: 4px; font-size: 12px; font-weight: 500;">×©×“×”</span>
                                            </td>
                                            <td class="tm-cell"><span style="color: #6b7280;">ğŸ“ ×©×•×¨×” 2</span></td>
                                            <td class="tm-cell"><span
                                                    style="background: #dcfce7; color: #15803d; padding: 3px 10px; border-radius: 4px; font-size: 13px; font-weight: 600;">1</span>
                                            </td>
                                            <td class="tm-cell">5.11.2025</td>
                                            <td class="tm-cell">
                                                <button class="btn btn-sm btn-secondary"
                                                    onclick="event.stopPropagation(); window.tableRenderer.editItem('areaGrave_690b73458bc742.96929965')"
                                                    title="×¢×¨×™×›×”">
                                                    <svg class="icon">
                                                        <use xlink:href="#icon-edit"></use>
                                                    </svg>
                                                </button>
                                                <button class="btn btn-sm btn-danger"
                                                    onclick="event.stopPropagation(); deleteAreaGrave('areaGrave_690b73458bc742.96929965')"
                                                    title="××—×™×§×”">
                                                    <svg class="icon">
                                                        <use xlink:href="#icon-delete"></use>
                                                    </svg>
                                                </button>
                                            </td>
                                        </tr>
                                        <!-- ×¢×•×“ 298 ×¨×©×•××•×ª ×–×”×•×ª ×œ×¤×™ ×”×¢×¨×›×™× ×©×”×ª×§×‘×œ×• ××”×©×¨×ª, ×›×š ×©×¡×”×› ×”×ª×§×‘×œ×• ×›××Ÿ 300 ×¢×¨×›×™× -->
                                        <tr class="tm-row">
                                            <td class="tm-cell"><a href="#"
                                                    onclick="handleAreaGraveDoubleClick('5a7f257e-16b0-432c-a2ad-55befb77e197', '5'); return false;"
                                                    style="color: #2563eb; text-decoration: none; font-weight: 500;">
                                                    5
                                                </a></td>
                                            <td class="tm-cell">-</td>
                                            <td class="tm-cell">1</td>
                                            <td class="tm-cell">×›×”× ×™×-×©×××œ</td>
                                            <td class="tm-cell">×›×”× ×™×-×©×××œ</td>
                                            <td class="tm-cell">×”×¨ ×”×× ×•×—×•×ª ×’×‘×¢×ª ×©××•×œ</td>
                                            <td class="tm-cell">×›×”× ×™×-×©×××œ</td>
                                            <td class="tm-cell"><span
                                                    style="font-family: monospace; font-size: 12px;">-</span></td>
                                            <td class="tm-cell"><span
                                                    style="background: #e0e7ff; color: #4338ca; padding: 3px 10px; border-radius: 4px; font-size: 12px; font-weight: 500;">×©×“×”</span>
                                            </td>
                                            <td class="tm-cell"><span style="color: #6b7280;">ğŸ“ 1</span></td>
                                            <td class="tm-cell"><span
                                                    style="background: #dcfce7; color: #15803d; padding: 3px 10px; border-radius: 4px; font-size: 13px; font-weight: 600;">1</span>
                                            </td>
                                            <td class="tm-cell">1.1.2025</td>
                                            <td class="tm-cell">
                                                <button class="btn btn-sm btn-secondary"
                                                    onclick="event.stopPropagation(); window.tableRenderer.editItem('5a7f257e-16b0-432c-a2ad-55befb77e197')"
                                                    title="×¢×¨×™×›×”">
                                                    <svg class="icon">
                                                        <use xlink:href="#icon-edit"></use>
                                                    </svg>
                                                </button>
                                                <button class="btn btn-sm btn-danger"
                                                    onclick="event.stopPropagation(); deleteAreaGrave('5a7f257e-16b0-432c-a2ad-55befb77e197')"
                                                    title="××—×™×§×”">
                                                    <svg class="icon">
                                                        <use xlink:href="#icon-delete"></use>
                                                    </svg>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="table-wrapper" data-table-manager="v2.0.0"
                            style="display: flex !important; flex-direction: column !important; width: 100% !important; height: calc(100vh - 250px) !important; min-height: 500px !important; border: 1px solid #e5e7eb !important; border-radius: 8px !important; overflow: hidden !important; background: white !important; position: relative !important; box-sizing: border-box !important;">
                            <div class="table-header-container"
                                style="flex-shrink: 0 !important; overflow: auto hidden !important; background: white !important; border-bottom: 2px solid rgb(229, 231, 235) !important; position: relative !important; z-index: 100 !important;">
                                <table class="tm-table tm-header-table" id="headerTable"
                                    style="width: max-content !important; min-width: 100% !important; border-collapse: separate !important; border-spacing: 0px !important; background: white !important; table-layout: fixed !important;">
                                    <thead>
                                        <tr class="tm-header-row">
                                            <th class="tm-header-cell" data-column-index="0"
                                                style="width: 200px; min-width: 200px;">
                                                <div class="tm-header-wrapper"><span class="tm-header-label">×©× ××—×•×–×ª
                                                        ×§×‘×¨</span><span class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="0"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="1"
                                                style="width: 100px; min-width: 100px;">
                                                <div class="tm-header-wrapper"><span
                                                        class="tm-header-label">×§×•×“</span><span
                                                        class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="1"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="2"
                                                style="width: 120px; min-width: 120px;">
                                                <div class="tm-header-wrapper"><span
                                                        class="tm-header-label">×©×•×¨×”</span><span
                                                        class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="2"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="3"
                                                style="width: 120px; min-width: 120px;">
                                                <div class="tm-header-wrapper"><span
                                                        class="tm-header-label">×—×œ×§×”</span><span
                                                        class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="3"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="4"
                                                style="width: 120px; min-width: 120px;">
                                                <div class="tm-header-wrapper"><span
                                                        class="tm-header-label">×’×•×©</span><span
                                                        class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="4"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="5"
                                                style="width: 150px; min-width: 150px;">
                                                <div class="tm-header-wrapper"><span class="tm-header-label">×‘×™×ª
                                                        ×¢×œ××™×Ÿ</span><span class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="5"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="6"
                                                style="width: 150px; min-width: 150px;">
                                                <div class="tm-header-wrapper"><span
                                                        class="tm-header-label">×—×œ×§×”</span><span
                                                        class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="6"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="7"
                                                style="width: 150px; min-width: 150px;">
                                                <div class="tm-header-wrapper"><span
                                                        class="tm-header-label">×§×•××•×¨×“×™× ×˜×•×ª</span><span
                                                        class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="7"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="8"
                                                style="width: 120px; min-width: 120px;">
                                                <div class="tm-header-wrapper"><span class="tm-header-label">×¡×•×’
                                                        ×§×‘×¨</span><span class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="8"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="9"
                                                style="width: 150px; min-width: 150px;">
                                                <div class="tm-header-wrapper"><span
                                                        class="tm-header-label">×©×•×¨×”</span><span
                                                        class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="9"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="10"
                                                style="width: 80px; min-width: 80px;">
                                                <div class="tm-header-wrapper"><span
                                                        class="tm-header-label">×§×‘×¨×™×</span><span
                                                        class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="10"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="11"
                                                style="width: 120px; min-width: 120px;">
                                                <div class="tm-header-wrapper"><span
                                                        class="tm-header-label">×ª××¨×™×š</span><span
                                                        class="tm-sort-icon">â‡…</span></div>
                                                <div class="tm-resize-handle" data-column-index="11"></div>
                                            </th>
                                            <th class="tm-header-cell" data-column-index="12"
                                                style="width: 120px; min-width: 120px;">
                                                <div class="tm-header-wrapper"><span
                                                        class="tm-header-label">×¤×¢×•×œ×•×ª</span></div>
                                                <div class="tm-resize-handle" data-column-index="12"></div>
                                            </th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                            <div class="table-body-container"
                                style="flex: 1 1 0% !important; overflow: auto !important; position: relative !important; height: 100% !important;">
                                <table class="tm-table tm-body-table" id="bodyTable"
                                    style="width: max-content !important; min-width: 100% !important; border-collapse: separate !important; border-spacing: 0px !important; background: white !important; table-layout: fixed !important;">
                                    <colgroup>
                                        <col style="width: 200px; min-width: 200px;">
                                        <col style="width: 100px; min-width: 100px;">
                                        <col style="width: 120px; min-width: 120px;">
                                        <col style="width: 120px; min-width: 120px;">
                                        <col style="width: 120px; min-width: 120px;">
                                        <col style="width: 150px; min-width: 150px;">
                                        <col style="width: 150px; min-width: 150px;">
                                        <col style="width: 150px; min-width: 150px;">
                                        <col style="width: 120px; min-width: 120px;">
                                        <col style="width: 150px; min-width: 150px;">
                                        <col style="width: 80px; min-width: 80px;">
                                        <col style="width: 120px; min-width: 120px;">
                                        <col style="width: 120px; min-width: 120px;">
                                    </colgroup>
                                    <tbody>
                                        <tr class="tm-row">
                                            <td class="tm-cell"><a href="#"
                                                    onclick="handleAreaGraveDoubleClick('areaGrave_690b73458bc742.96929965', '4'); return false;"
                                                    style="color: #2563eb; text-decoration: none; font-weight: 500;">
                                                    4
                                                </a></td>
                                            <td class="tm-cell">-</td>
                                            <td class="tm-cell">×©×•×¨×” 2</td>
                                            <td class="tm-cell">×—×œ×§×” 6</td>
                                            <td class="tm-cell">× ×¡×™×•×Ÿ ×’×•×© 6</td>
                                            <td class="tm-cell">× ×¡×™×•×Ÿ ×‘×™×ª ×¢×œ××™×Ÿ 5</td>
                                            <td class="tm-cell">×—×œ×§×” 6</td>
                                            <td class="tm-cell"><span
                                                    style="font-family: monospace; font-size: 12px;">-</span></td>
                                            <td class="tm-cell"><span
                                                    style="background: #e0e7ff; color: #4338ca; padding: 3px 10px; border-radius: 4px; font-size: 12px; font-weight: 500;">×©×“×”</span>
                                            </td>
                                            <td class="tm-cell"><span style="color: #6b7280;">ğŸ“ ×©×•×¨×” 2</span></td>
                                            <td class="tm-cell"><span
                                                    style="background: #dcfce7; color: #15803d; padding: 3px 10px; border-radius: 4px; font-size: 13px; font-weight: 600;">1</span>
                                            </td>
                                            <td class="tm-cell">5.11.2025</td>
                                            <td class="tm-cell">
                                                <button class="btn btn-sm btn-secondary"
                                                    onclick="event.stopPropagation(); window.tableRenderer.editItem('areaGrave_690b73458bc742.96929965')"
                                                    title="×¢×¨×™×›×”">
                                                    <svg class="icon">
                                                        <use xlink:href="#icon-edit"></use>
                                                    </svg>
                                                </button>
                                                <button class="btn btn-sm btn-danger"
                                                    onclick="event.stopPropagation(); deleteAreaGrave('areaGrave_690b73458bc742.96929965')"
                                                    title="××—×™×§×”">
                                                    <svg class="icon">
                                                        <use xlink:href="#icon-delete"></use>
                                                    </svg>
                                                </button>
                                            </td>
                                        </tr>
                                        <!-- ×¢×•×“ 98 ×¢×¨×›×™× ××”×©×¨×ª, ×›×š ×©×¡×”×› ×”×ª×§×‘×œ×• ×›××Ÿ 100 ×¢×¨×›×™× -->
                                        <tr class="tm-row">
                                            <td class="tm-cell"><a href="#"
                                                    onclick="handleAreaGraveDoubleClick('c45cb074-dd7a-452b-aed7-da2d67d1fb7a', '1'); return false;"
                                                    style="color: #2563eb; text-decoration: none; font-weight: 500;">
                                                    1
                                                </a></td>
                                            <td class="tm-cell">-</td>
                                            <td class="tm-cell">10</td>
                                            <td class="tm-cell">2×</td>
                                            <td class="tm-cell">51 ×˜×¡×˜</td>
                                            <td class="tm-cell">×’×‘×¢×ª ×©××•×œ ××¢×¨×‘</td>
                                            <td class="tm-cell">2×</td>
                                            <td class="tm-cell"><span
                                                    style="font-family: monospace; font-size: 12px;">-</span></td>
                                            <td class="tm-cell"><span
                                                    style="background: #e0e7ff; color: #4338ca; padding: 3px 10px; border-radius: 4px; font-size: 12px; font-weight: 500;">×¨×•×•×™×”</span>
                                            </td>
                                            <td class="tm-cell"><span style="color: #6b7280;">ğŸ“ 10</span></td>
                                            <td class="tm-cell"><span
                                                    style="background: #dcfce7; color: #15803d; padding: 3px 10px; border-radius: 4px; font-size: 13px; font-weight: 600;">2</span>
                                            </td>
                                            <td class="tm-cell">23.3.2025</td>
                                            <td class="tm-cell">
                                                <button class="btn btn-sm btn-secondary"
                                                    onclick="event.stopPropagation(); window.tableRenderer.editItem('c45cb074-dd7a-452b-aed7-da2d67d1fb7a')"
                                                    title="×¢×¨×™×›×”">
                                                    <svg class="icon">
                                                        <use xlink:href="#icon-edit"></use>
                                                    </svg>
                                                </button>
                                                <button class="btn btn-sm btn-danger"
                                                    onclick="event.stopPropagation(); deleteAreaGrave('c45cb074-dd7a-452b-aed7-da2d67d1fb7a')"
                                                    title="××—×™×§×”">
                                                    <svg class="icon">
                                                        <use xlink:href="#icon-delete"></use>
                                                    </svg>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <table id="mainTable" class="data-table" style="display: none;">
                            <thead>
                                <tr id="tableHeaders">
                                    <th style="text-align: center;">×˜×•×¢×Ÿ...</th>
                                </tr>
                            </thead>
                            <tbody id="tableBody" class="">
                                <tr>
                                    <td style="text-align: center; padding: 40px;">
                                        <div class="spinner-border" role="status">
                                            <span class="visually-hidden">×˜×•×¢×Ÿ ××—×•×–×•×ª ×§×‘×¨...</span>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Table Container -->
                <div class="table-container">
                    <div class="table-responsive" style="display: block;">
                        <table class="data-table" id="mainTable">
                            <thead>
                                <tr id="tableHeaders"></tr>
                            </thead>
                            <tbody id="tableBody"></tbody>
                        </table>
                    </div>
                    <!-- Entity cards for mobile will be generated here -->
                    <div class="entity-cards" id="entityCards" style="display: none;"></div>
                </div>
            </main>
        </div>
    </div>

    <!-- JavaScript Files - ×›×•×œ×œ ×”×§×•×‘×¥ ×”×—×“×© ×œ×¨×¡×¤×•× ×¡×™×‘×™×•×ª -->

    <!-- ×§×•×“×: UniversalSearch (×”×‘×¡×™×¡) -->
    <script src="/dashboard/dashboards/cemeteries/js/universal-search.js"></script>

    <script src="/dashboard/dashboards/cemeteries/js/breadcrumb.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/main.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/sidebar-counts.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/clearDashboard.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/table-manager.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/universal-search-init.js"></script>
    <!-- ××¢×¨×›×ª ×˜×¤×¡×™× ×—×“×©×” -->
    <script src="/dashboard/dashboards/cemeteries/forms/FormValidations.js"></script>
    <script src="/dashboard/dashboards/cemeteries/forms/payment-display-manager.js"></script>
    <script src="/dashboard/dashboards/cemeteries/forms/form-handler.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/hierarchy-cards.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/cards.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/responsive.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/unified-table-renderer.js"></script>

    <script src="/dashboard/dashboards/cemeteries/js/operation-manager.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/cemeteries-management.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/blocks-management.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/plots-management.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/area-graves-management.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/graves-management.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/customers-management.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/purchases-management.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/burials-management.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/payments-management.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/residency-management.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/countries-management.js"></script>
    <script src="/dashboard/dashboards/cemeteries/js/cities-management.js"></script>

    <script src="/dashboard/dashboards/cemeteries/js/live-search.js"></script>

    <!-- ×”×•×¡×£ ××ª ×–×”: -->

    <script>
        // Initialize dashboard on load
        document.addEventListener('DOMContentLoaded', function () {
            initDashboard();
            // Initialize responsive features
            if (typeof initializeEntityItems === 'function') {
                initializeEntityItems();
            }
            if (typeof handleTableResponsive === 'function') {
                handleTableResponsive();
            }
        });
    </script>

    <script>
        // ×”×¢×‘×¨ ××ª ×”×§×•× ×¤×™×’ ×œ-JavaScript
        window.PAYMENT_TYPES_CONFIG = { "1": { "name": "\u05e2\u05dc\u05d5\u05ea \u05e7\u05d1\u05e8", "mandatory": true, "icon": "\ud83c\udfdb\ufe0f" }, "2": { "name": "\u05e9\u05d9\u05e8\u05d5\u05ea\u05d9 \u05dc\u05d5\u05d5\u05d9\u05d4", "mandatory": false, "icon": "\ud83d\udd6f\ufe0f" }, "3": { "name": "\u05e9\u05d9\u05e8\u05d5\u05ea\u05d9 \u05e7\u05d1\u05d5\u05e8\u05d4", "mandatory": true, "icon": "\u26b0\ufe0f" }, "4": { "name": "\u05d0\u05d2\u05e8\u05ea \u05de\u05e6\u05d1\u05d4", "mandatory": false, "icon": "\ud83e\udea6" }, "5": { "name": "\u05d1\u05d3\u05d9\u05e7\u05ea \u05e2\u05d5\u05de\u05e7", "mandatory": false, "icon": "\ud83d\udccf" }, "6": { "name": "\u05e4\u05d9\u05e8\u05d5\u05e7 \u05de\u05e6\u05d1\u05d4", "mandatory": false, "icon": "\ud83d\udd28" }, "7": { "name": "\u05d4\u05d5\u05d1\u05dc\u05d4 \u05de\u05e0\u05ea\u05d1\u05f4\u05d2", "mandatory": false, "icon": "\u2708\ufe0f" }, "8": { "name": "\u05d8\u05d4\u05e8\u05d4", "mandatory": false, "icon": "\ud83d\udca7" }, "9": { "name": "\u05ea\u05db\u05e8\u05d9\u05db\u05d9\u05dd", "mandatory": false, "icon": "\ud83c\udff3\ufe0f" }, "10": { "name": "\u05d4\u05d7\u05dc\u05e4\u05ea \u05e9\u05dd", "mandatory": false, "icon": "\u270f\ufe0f" }, "99": { "name": "\u05d0\u05d7\u05e8", "mandatory": false, "icon": "\ud83d\udcdd" } };
    </script>
    <script src="/dashboard/dashboards/cemeteries/js/smart-select.js"></script>
</body>