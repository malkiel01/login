<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Popup Manager - Demo</title>

    <!-- Popup Styles -->
    <link rel="stylesheet" href="popup.css">

    <!-- Popup Scripts -->
    <script src="popup-manager.js"></script>
    <script src="popup-api.js"></script>

    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
            margin: 0;
        }

        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        h1 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 36px;
        }

        .subtitle {
            color: #64748b;
            margin-bottom: 40px;
            font-size: 18px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section-title {
            color: #1e293b;
            font-size: 24px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
        }

        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .demo-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .demo-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .demo-btn:active {
            transform: translateY(0);
        }

        .demo-btn.secondary {
            background: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%);
            box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
        }

        .demo-btn.secondary:hover {
            box-shadow: 0 6px 20px rgba(245, 158, 11, 0.4);
        }

        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
        }

        .code-block .comment {
            color: #94a3b8;
        }

        .code-block .keyword {
            color: #c792ea;
        }

        .code-block .string {
            color: #c3e88d;
        }

        .code-block .function {
            color: #82aaff;
        }

        .info-box {
            background: #eff6ff;
            border-right: 4px solid #3b82f6;
            padding: 15px 20px;
            border-radius: 6px;
            margin: 15px 0;
            color: #1e40af;
        }

        .warning-box {
            background: #fef3c7;
            border-right: 4px solid #f59e0b;
            padding: 15px 20px;
            border-radius: 6px;
            margin: 15px 0;
            color: #92400e;
        }

        .features-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .feature-item {
            background: #f8fafc;
            padding: 15px;
            border-radius: 8px;
            border-right: 3px solid #667eea;
        }

        .feature-item strong {
            color: #667eea;
            display: block;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>

    <div class="demo-container">
        <h1>ğŸ¯ Popup Manager - Demo & Documentation</h1>
        <p class="subtitle">××•×“×•×œ ×¤×•×¤-××¤ ×’× ×¨×™ ×œ×—×œ×•×˜×™×Ÿ ×¢× ×ª×§×©×•×¨×ª ×“×•-×›×™×•×•× ×™×ª</p>

        <!-- Features -->
        <div class="section">
            <h2 class="section-title">âœ¨ ×ª×›×•× ×•×ª ×¢×™×§×¨×™×•×ª</h2>
            <div class="features-list">
                <div class="feature-item">
                    <strong>ğŸªŸ Container ×˜×”×•×¨</strong>
                    ×œ× ×§×©×•×¨ ×œ×ª×•×›×Ÿ - ×¢×•×‘×“ ×¢× ×›×œ ×“×‘×¨
                </div>
                <div class="feature-item">
                    <strong>ğŸ”„ Hybrid</strong>
                    ×ª××™×›×” ×‘-iframe, HTML ×™×©×™×¨ ×•-AJAX
                </div>
                <div class="feature-item">
                    <strong>ğŸ“¡ ×ª×§×©×•×¨×ª ×“×•-×›×™×•×•× ×™×ª</strong>
                    postMessage + Custom Events
                </div>
                <div class="feature-item">
                    <strong>ğŸ¨ Draggable & Resizable</strong>
                    ×’×¨×™×¨×” ×•×©×™× ×•×™ ×’×•×“×œ ××œ×
                </div>
                <div class="feature-item">
                    <strong>ğŸ”½ Minimize</strong>
                    ××–×¢×•×¨ ×œ×¤×¡ ×ª×—×ª×•×Ÿ
                </div>
                <div class="feature-item">
                    <strong>â›¶ Maximize</strong>
                    ××¡×š ××œ× ×‘×ª×•×š ×”×“×£
                </div>
                <div class="feature-item">
                    <strong>â†— Detach</strong>
                    ×”×¢×‘×¨×” ×œ×—×œ×•×Ÿ ×“×¤×“×¤×Ÿ × ×¤×¨×“
                </div>
                <div class="feature-item">
                    <strong>ğŸ¯ Z-Index Smart</strong>
                    × ×™×”×•×œ ××•×˜×•××˜×™ ×©×œ ×¡×“×¨ ×—×œ×•× ×•×ª
                </div>
            </div>
        </div>

        <!-- Demo Buttons -->
        <div class="section">
            <h2 class="section-title">ğŸš€ ×“×•×’×××•×ª ×©×™××•×©</h2>

            <h3 style="margin-top: 30px; color: #334155;">1. ×¤×•×¤-××¤×™× ×‘×¡×™×¡×™×™×</h3>
            <div class="button-grid">
                <button class="demo-btn" onclick="demo_iframe()">
                    ğŸ“„ iframe Popup
                </button>
                <button class="demo-btn" onclick="demo_html()">
                    ğŸ“ HTML Popup
                </button>
                <button class="demo-btn" onclick="demo_ajax()">
                    ğŸŒ AJAX Popup
                </button>
                <button class="demo-btn" onclick="demo_custom()">
                    âš™ï¸ Custom Config
                </button>
            </div>

            <h3 style="margin-top: 30px; color: #334155;">2. ×¤×•×¤-××¤×™× ××ª×§×“××™×</h3>
            <div class="button-grid">
                <button class="demo-btn secondary" onclick="demo_multiple()">
                    ğŸ“š Multiple Popups
                </button>
                <button class="demo-btn secondary" onclick="demo_interactive()">
                    ğŸ® Interactive Content
                </button>
                <button class="demo-btn secondary" onclick="demo_styled()">
                    ğŸ¨ With Custom CSS (Detach-safe)
                </button>
                <button class="demo-btn secondary" onclick="demo_form()">
                    ğŸ“‹ Form Example
                </button>
                <button class="demo-btn secondary" onclick="demo_large()">
                    ğŸ“ Large Content
                </button>
            </div>
        </div>

        <!-- Usage Examples -->
        <div class="section">
            <h2 class="section-title">ğŸ“– ×“×•×’×××•×ª ×§×•×“</h2>

            <h3 style="margin-top: 30px; color: #334155;">×™×¦×™×¨×ª Popup ×¢× iframe:</h3>
            <div class="code-block">
<span class="keyword">const</span> popup = <span class="function">PopupManager.create</span>({
    <span class="string">type</span>: <span class="string">'iframe'</span>,
    <span class="string">src</span>: <span class="string">'/path/to/content.php'</span>,
    <span class="string">title</span>: <span class="string">'×›×•×ª×¨×ª ×”×¤×•×¤-××¤'</span>,
    <span class="string">width</span>: 800,
    <span class="string">height</span>: 600
});
            </div>

            <h3 style="margin-top: 30px; color: #334155;">×™×¦×™×¨×ª Popup ×¢× HTML:</h3>
            <div class="code-block">
<span class="keyword">const</span> popup = <span class="function">PopupManager.create</span>({
    <span class="string">type</span>: <span class="string">'html'</span>,
    <span class="string">content</span>: <span class="string">'&lt;div&gt;×”×ª×•×›×Ÿ ×©×œ×š ×›××Ÿ&lt;/div&gt;'</span>,
    <span class="string">title</span>: <span class="string">'HTML Content'</span>
});
            </div>

            <h3 style="margin-top: 30px; color: #334155;">×©×™××•×© ×‘-PopupAPI ××ª×•×š ×”×ª×•×›×Ÿ:</h3>
            <div class="code-block">
<span class="comment">// ×‘×ª×•×š ×”×ª×•×›×Ÿ (iframe ××• HTML):</span>

<span class="comment">// ×©×™× ×•×™ ×›×•×ª×¨×ª</span>
<span class="function">PopupAPI.setTitle</span>(<span class="string">'×›×•×ª×¨×ª ×—×“×©×”'</span>);

<span class="comment">// ×©×™× ×•×™ ×’×•×“×œ</span>
<span class="function">PopupAPI.resize</span>(900, 700);

<span class="comment">// ××–×¢×•×¨/××§×¡×•×</span>
<span class="function">PopupAPI.minimize</span>();
<span class="function">PopupAPI.maximize</span>();

<span class="comment">// ×¡×’×™×¨×”</span>
<span class="function">PopupAPI.close</span>();

<span class="comment">// ×”××–× ×” ×œ××™×¨×•×¢×™×</span>
<span class="function">PopupAPI.on</span>(<span class="string">'minimized'</span>, () => {
    console.log(<span class="string">'×”×¤×•×¤-××¤ ××•×–×¢×¨'</span>);
});
            </div>

            <div class="info-box">
                ğŸ’¡ <strong>×˜×™×¤:</strong> PopupAPI ××–×”×” ××•×˜×•××˜×™×ª ××ª ×”-popup ID ××”-URL ×•××ª×§×©×¨ ×¢× ×”×¤×•×¤-××¤ ×”××ª××™×.
            </div>
        </div>

        <!-- API Reference -->
        <div class="section">
            <h2 class="section-title">ğŸ“š API Reference</h2>

            <h3 style="margin-top: 30px; color: #334155;">PopupManager Methods:</h3>
            <div class="code-block">
<span class="function">PopupManager.create</span>(config)     <span class="comment">// ×™×¦×™×¨×ª popup ×—×“×©</span>
<span class="function">PopupManager.get</span>(id)            <span class="comment">// ×§×‘×œ×ª popup ×œ×¤×™ ID</span>
<span class="function">PopupManager.close</span>(id)          <span class="comment">// ×¡×’×™×¨×ª popup</span>
<span class="function">PopupManager.closeAll</span>()         <span class="comment">// ×¡×’×™×¨×ª ×›×œ ×”×¤×•×¤-××¤×™×</span>
            </div>

            <h3 style="margin-top: 30px; color: #334155;">Popup Instance Methods:</h3>
            <div class="code-block">
popup.<span class="function">minimize</span>()              <span class="comment">// ××–×¢×•×¨</span>
popup.<span class="function">maximize</span>()              <span class="comment">// ××¡×š ××œ×</span>
popup.<span class="function">restore</span>()               <span class="comment">// ×©×—×–×•×¨</span>
popup.<span class="function">detach</span>()                <span class="comment">// × ×™×ª×•×§ ×œ×—×œ×•×Ÿ × ×¤×¨×“</span>
popup.<span class="function">close</span>()                 <span class="comment">// ×¡×’×™×¨×”</span>
popup.<span class="function">setTitle</span>(title)         <span class="comment">// ×¢×“×›×•×Ÿ ×›×•×ª×¨×ª</span>
popup.<span class="function">resize</span>(width, height)   <span class="comment">// ×©×™× ×•×™ ×’×•×“×œ</span>
            </div>

            <h3 style="margin-top: 30px; color: #334155;">PopupAPI Methods (××ª×•×š ×”×ª×•×›×Ÿ):</h3>
            <div class="code-block">
<span class="function">PopupAPI.setTitle</span>(title)
<span class="function">PopupAPI.resize</span>(width, height)
<span class="function">PopupAPI.minimize</span>()
<span class="function">PopupAPI.maximize</span>()
<span class="function">PopupAPI.restore</span>()
<span class="function">PopupAPI.close</span>()
<span class="function">PopupAPI.detach</span>()
<span class="function">PopupAPI.on</span>(event, callback)
<span class="function">PopupAPI.off</span>(event, callback)
            </div>

            <div class="warning-box">
                âš ï¸ <strong>×—×©×•×‘:</strong> ×›×“×™ ×©-PopupAPI ×™×¢×‘×•×“, ×™×© ×œ×›×œ×•×œ ××ª popup-api.js ×‘×ª×•×›×Ÿ ×•×œ×•×•×“× ×©×”-URL ××›×™×œ ××ª popupId.
            </div>
        </div>

    </div>

    <script>
        // ===========================================
        // Demo Functions
        // ===========================================

        // 1. Popup ×¢× iframe
        function demo_iframe() {
            PopupManager.create({
                type: 'iframe',
                src: '/dashboard/dashboards/cemeteries/popup/demo-content.html',
                title: 'ğŸ“„ iframe Popup Demo',
                width: 700,
                height: 500
            });
        }

        // 2. Popup ×¢× HTML ×™×©×™×¨
        function demo_html() {
            PopupManager.create({
                type: 'html',
                content: `
                    <div style="padding: 40px; text-align: center;">
                        <h2 style="color: #667eea; margin-bottom: 20px;">ğŸ‘‹ ×©×œ×•×!</h2>
                        <p style="color: #64748b; font-size: 16px; margin-bottom: 20px;">
                            ×–×”×• ×ª×•×›×Ÿ HTML ×™×©×™×¨ ×‘×ª×•×š ×”×¤×•×¤-××¤
                        </p>
                        <button onclick="alert('×›×¤×ª×•×¨ ×¢×•×‘×“!')" style="
                            background: #667eea;
                            color: white;
                            border: none;
                            padding: 10px 20px;
                            border-radius: 6px;
                            cursor: pointer;
                            font-size: 14px;
                        ">×œ×—×¥ ×¢×œ×™!</button>
                    </div>
                `,
                title: 'ğŸ“ HTML Content Demo',
                width: 500,
                height: 400
            });
        }

        // 3. Popup ×¢× AJAX
        function demo_ajax() {
            PopupManager.create({
                type: 'ajax',
                url: '/dashboard/dashboards/cemeteries/popup/demo-content.html',
                title: 'ğŸŒ AJAX Content Demo',
                width: 700,
                height: 500
            });
        }

        // 4. Popup ××•×ª××
        function demo_custom() {
            PopupManager.create({
                type: 'html',
                content: `
                    <div style="padding: 30px;">
                        <h3 style="color: #667eea;">âš™ï¸ ×§×•× ×¤×™×’×•×¨×¦×™×” ××•×ª×××ª</h3>
                        <ul style="color: #64748b; line-height: 2;">
                            <li>×’×•×“×œ ××™× ×™××œ×™: 300x200</li>
                            <li>×’×•×“×œ ××§×¡×™××œ×™: 1200x800</li>
                            <li>×œ×œ× ×›×¤×ª×•×¨ detach</li>
                            <li>×¢× callback ×¢×œ ×¡×’×™×¨×”</li>
                        </ul>
                    </div>
                `,
                title: 'âš™ï¸ Custom Config',
                width: 600,
                height: 400,
                minWidth: 300,
                minHeight: 200,
                maxWidth: 1200,
                maxHeight: 800,
                controls: {
                    minimize: true,
                    maximize: true,
                    detach: false,
                    close: true
                },
                onClose: function(popup) {
                    if (confirm('×”×× ××ª×” ×‘×˜×•×— ×©×‘×¨×¦×•× ×š ×œ×¡×’×•×¨?')) {
                        return true;
                    }
                    return false;
                }
            });
        }

        // 5. ××¡×¤×¨ ×¤×•×¤-××¤×™×
        function demo_multiple() {
            for (let i = 1; i <= 3; i++) {
                setTimeout(() => {
                    PopupManager.create({
                        type: 'html',
                        content: `
                            <div style="padding: 40px; text-align: center;">
                                <h2 style="color: #667eea;">Popup #${i}</h2>
                                <p style="color: #64748b;">×œ×—×¥ ×¢×œ ×”×¤×•×¤-××¤ ×›×“×™ ×œ×”×¢×œ×•×ª ××•×ª×• ×œ×—×–×™×ª</p>
                            </div>
                        `,
                        title: `Popup #${i}`,
                        width: 400,
                        height: 300,
                        position: { x: 100 + (i * 50), y: 100 + (i * 50) }
                    });
                }, i * 200);
            }
        }

        // 6. ×ª×•×›×Ÿ ×¢× CSS ××•×ª×× (Detach-safe)
        function demo_styled() {
            PopupManager.create({
                type: 'html',
                content: `
                    <div class="custom-styled-content">
                        <h2 class="custom-title">ğŸ¨ Content ×¢× CSS ××•×ª××</h2>
                        <div class="custom-card">
                            <p>×ª×•×›×Ÿ ×–×” ××©×ª××© ×‘-CSS ××•×ª×× ×©×™×™×©××¨ ×’× ×›××©×¨ ×ª×¢×‘×™×¨ ×œ-Detached mode!</p>
                            <p>×¤×©×•×˜ ×”×•×¡×£ ××ª ×”×××¤×™×™×Ÿ <code>stylesheets</code> ×‘×§×•× ×¤×™×’×•×¨×¦×™×”.</p>
                        </div>
                        <div class="custom-buttons">
                            <button class="custom-btn primary">×›×¤×ª×•×¨ ×¨××©×™</button>
                            <button class="custom-btn secondary">×›×¤×ª×•×¨ ××©× ×™</button>
                        </div>
                    </div>
                    <style>
                        .custom-styled-content {
                            padding: 30px;
                            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                        }
                        .custom-title {
                            color: #e74c3c;
                            text-align: center;
                            margin-bottom: 20px;
                            font-size: 24px;
                        }
                        .custom-card {
                            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                            color: white;
                            padding: 20px;
                            border-radius: 12px;
                            margin: 20px 0;
                            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                        }
                        .custom-card code {
                            background: rgba(255,255,255,0.2);
                            padding: 2px 6px;
                            border-radius: 4px;
                            font-family: monospace;
                        }
                        .custom-buttons {
                            display: flex;
                            gap: 10px;
                            justify-content: center;
                            margin-top: 20px;
                        }
                        .custom-btn {
                            padding: 12px 24px;
                            border: none;
                            border-radius: 8px;
                            font-size: 16px;
                            font-weight: 600;
                            cursor: pointer;
                            transition: transform 0.2s;
                        }
                        .custom-btn:hover {
                            transform: translateY(-2px);
                        }
                        .custom-btn.primary {
                            background: #e74c3c;
                            color: white;
                        }
                        .custom-btn.secondary {
                            background: #3498db;
                            color: white;
                        }
                    </style>
                `,
                title: 'ğŸ¨ Styled Content',
                width: 600,
                height: 500,
                // âš ï¸ ×—×©×•×‘: ×œ×¦×•×¨×š detach mode, ×¦×¨×™×š ×œ×¡×¤×§ stylesheets ×—×™×¦×•× ×™×™×
                // ×× CSS × ××¦× ×‘×ª×•×š ×”-HTML (×›××• ×›××Ÿ), ×”×•× ×›×‘×¨ × ×©××¨ ×‘-content
                // ××‘×œ ×× ××©×ª××©×™× ×‘×§×‘×¦×™ CSS ×—×™×¦×•× ×™×™×, ×¦×¨×™×š ×œ×”×•×¡×™×£:
                // stylesheets: [
                //     '/path/to/your/style1.css',
                //     '/path/to/your/style2.css'
                // ]
            });
        }

        // 7. ×ª×•×›×Ÿ ××™× ×˜×¨××§×˜×™×‘×™
        function demo_interactive() {
            let counter = 0;
            PopupManager.create({
                type: 'html',
                content: `
                    <div style="padding: 40px; text-align: center;">
                        <h2 style="color: #667eea;">ğŸ® Interactive Demo</h2>
                        <p style="font-size: 48px; margin: 30px 0;" id="counter">0</p>
                        <button onclick="updateCounter()" style="
                            background: #667eea;
                            color: white;
                            border: none;
                            padding: 12px 24px;
                            border-radius: 8px;
                            cursor: pointer;
                            font-size: 16px;
                            font-weight: 600;
                        ">×”×•×¡×£ +1</button>
                    </div>
                    <script>
                        let counter = 0;
                        function updateCounter() {
                            counter++;
                            document.getElementById('counter').textContent = counter;
                        }
                    <\/script>
                `,
                title: 'ğŸ® Interactive Content',
                width: 500,
                height: 400
            });
        }

        // 8. ×˜×•×¤×¡ ×œ×“×•×’××”
        function demo_form() {
            PopupManager.create({
                type: 'html',
                content: `
                    <div style="padding: 30px;">
                        <h3 style="color: #667eea; margin-bottom: 20px;">ğŸ“‹ ×˜×•×¤×¡ ×œ×“×•×’××”</h3>
                        <form onsubmit="handleSubmit(event)" style="display: flex; flex-direction: column; gap: 15px;">
                            <input type="text" placeholder="×©×" style="padding: 10px; border: 1px solid #cbd5e1; border-radius: 6px;">
                            <input type="email" placeholder="××™××™×™×œ" style="padding: 10px; border: 1px solid #cbd5e1; border-radius: 6px;">
                            <textarea placeholder="×”×•×“×¢×”" rows="4" style="padding: 10px; border: 1px solid #cbd5e1; border-radius: 6px; resize: vertical;"></textarea>
                            <button type="submit" style="
                                background: #667eea;
                                color: white;
                                border: none;
                                padding: 12px;
                                border-radius: 6px;
                                cursor: pointer;
                                font-size: 16px;
                                font-weight: 600;
                            ">×©×œ×—</button>
                        </form>
                    </div>
                    <script>
                        function handleSubmit(e) {
                            e.preventDefault();
                            alert('×”×˜×•×¤×¡ × ×©×œ×—! (×“××• ×‘×œ×‘×“)');
                        }
                    <\/script>
                `,
                title: 'ğŸ“‹ Form Example',
                width: 500,
                height: 500
            });
        }

        // 9. ×ª×•×›×Ÿ ×’×“×•×œ
        function demo_large() {
            let content = '<div style="padding: 30px; line-height: 1.8; color: #334155;">';
            content += '<h2 style="color: #667eea;">ğŸ“ ×ª×•×›×Ÿ ××¨×•×š ×œ×“×•×’××”</h2>';
            for (let i = 1; i <= 50; i++) {
                content += `<p>×¤×¡×§×” ××¡×¤×¨ ${i} - ×–×”×• ×ª×•×›×Ÿ ×œ×“×•×’××” ×¢× ×’×œ×™×œ×”. ××¤×©×¨ ×œ×©× ×•×ª ×’×•×“×œ ×•×œ×’×¨×•×¨ ××ª ×”×¤×•×¤-××¤.</p>`;
            }
            content += '</div>';

            PopupManager.create({
                type: 'html',
                content: content,
                title: 'ğŸ“ Large Content Demo',
                width: 700,
                height: 600
            });
        }

        // Info ×¢×œ ×˜×¢×™× ×”
        console.log('%cğŸ¯ Popup Manager Demo Loaded!', 'color: #667eea; font-size: 16px; font-weight: bold;');
        console.log('× ×¡×” ××ª ×”×¤×•× ×§×¦×™×•×ª ×”×©×•× ×•×ª ×›×“×™ ×œ×¨××•×ª ××ª ×”×™×›×•×œ×•×ª ×©×œ ×”××•×“×•×œ.');
    </script>

</body>
</html>
